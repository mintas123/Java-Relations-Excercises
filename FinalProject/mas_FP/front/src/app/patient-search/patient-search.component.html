<h1 class="text-center m-5 p-5 app-header ">Find patient</h1>


<div class="row">
  <div class="col-md-auto offset-md-3">
    <form class="patient-form">
      <label for="search"><i class="material-icons search-icon ">search</i></label>
      <mat-form-field class="patient-form-field" style="width:400px !important">
        <input type="text" matInput
               #input id="search"
               placeholder="Patient name or PESEL..."
               [matAutocomplete]="auto"
               [formControl]="myControl">

        <mat-autocomplete autoActiveFirstOption
                          #auto="matAutocomplete"
                          (optionSelected)='selectPatient($event.option.value)'
                          [displayWith]="displayFn">
          <mat-option *ngFor="let option of filteredOptions | async; let id = index"
                      [value]="option"
                      [routerLink]="id"
                      (click)="initFilter()">
          <span>{{option.name}} |
            <strong class="text-muted">{{option.pesel}}</strong> </span> |
            <small class="text-muted">{{option.birthday | date}}</small>
        </mat-option>
        </mat-autocomplete>
      </mat-form-field>

      <button (click)="onNewPatient()" class="btn btn-dark mx-1">New </button>
    </form>
  </div>
</div>

<div class="col-md-auto offset-md-3 pt-3 mt-3">
  <router-outlet></router-outlet>
</div>


<div class="container col-md-2 offset-md-7">
  <button class="btn btn-primary my-2" *ngIf="selectedPatient" (click)="onNext()">Next</button>
</div>

